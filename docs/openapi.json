{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Student Profile","description":"Endpoints for creating, updating, and fetching student profiles"},{"name":"Authentication","description":"Endpoints for user signup, signin, OTP, and password reset"},{"name":"Admin Course Management","description":"Endpoints for admins to manage courses"},{"name":"Course Feedback","description":"Submit and retrieve feedback for courses"},{"name":"Admin User Management","description":"Admin-only endpoints for managing users"},{"name":"Student Dashboard","description":"Access dashboard with profile, saved courses, and recommendations"},{"name":"Saved Courses","description":"Endpoints for saving, retrieving, checking, and removing saved courses"},{"name":"Course Sharing","description":"Endpoints for sharing courses and tracking share analytics"},{"name":"Admin Dashboard","description":"Dashboard view and analytics for admin users"},{"name":"User Profile","description":"Upload and view user profile photo"},{"name":"Courses","description":"Endpoints for fetching, filtering, and searching courses"}],"paths":{"/users/profile-photo":{"get":{"tags":["User Profile"],"summary":"Get profile photo","description":"Fetches the stored profile photo of the logged-in user","operationId":"getProfilePhoto","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}}}},"put":{"tags":["User Profile"],"summary":"Upload profile photo","description":"Allows authenticated user to upload their profile photo (PNG/JPEG only)","operationId":"uploadPhoto","requestBody":{"content":{"application/json":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","description":"PNG or JPEG image file","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/profile":{"get":{"tags":["Student Profile"],"summary":"Get student profile","description":"Returns the user's profile if it has been completed.","operationId":"getProfile","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"put":{"tags":["Student Profile"],"summary":"Update student profile","description":"Updates the profile of the authenticated user.","operationId":"updateProfile","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentProfileRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"post":{"tags":["Student Profile"],"summary":"Create student profile","description":"Creates a profile for the logged-in user.","operationId":"createProfile","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudentProfileRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/admin/make-admin":{"put":{"tags":["Admin User Management"],"summary":"Promote user to admin","description":"Promotes a regular user to admin by their username","operationId":"promoteToAdmin","parameters":[{"name":"username","in":"query","description":"Username of the user to promote","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/admin/courses/{id}":{"put":{"tags":["Admin Course Management"],"summary":"Update a course","description":"Allows admin to update an existing course by ID.","operationId":"updateCourse","parameters":[{"name":"id","in":"path","description":"ID of the course to update","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Course"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Course"}}}}}},"delete":{"tags":["Admin Course Management"],"summary":"Delete a course","description":"Allows admin to delete a course by ID.","operationId":"deleteCourse","parameters":[{"name":"id","in":"path","description":"ID of the course to delete","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/share-course":{"post":{"tags":["Course Sharing"],"summary":"Share a course","description":"Tracks a course share event and returns a shareable course URL","operationId":"shareCourse","parameters":[{"name":"courseId","in":"query","description":"ID of the course to share","required":true,"schema":{"type":"string"}},{"name":"platform","in":"query","description":"Platform where the course is shared (optional)","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/saved-courses":{"get":{"tags":["Saved Courses"],"summary":"Get all saved courses","description":"Retrieves all saved courses for the logged-in user.","operationId":"getSavedCourses","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SavedCourse"}}}}}}},"post":{"tags":["Saved Courses"],"summary":"Save a course","description":"Saves a course to the logged-in user's saved list.","operationId":"saveCourse","parameters":[{"name":"courseId","in":"query","description":"ID of the course to save","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SavedCourse"}}}}}}},"/feedback":{"post":{"tags":["Course Feedback"],"summary":"Submit feedback for recommended courses","description":"Accepts a list of feedbacks for recommended courses. Only allowed once per recommendation set.","operationId":"submitCourseFeedback","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedbackSubmissionRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/courses/filter":{"post":{"tags":["Courses"],"summary":"Filter courses","description":"Filters courses based on preferences like domain, platform, difficulty, etc.","operationId":"filterCourses","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FilterCourseRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Course"}}}}}}}},"/api/auth/verify-otp":{"post":{"tags":["Authentication"],"summary":"Verify OTP","description":"Verifies the OTP for either email verification or password reset.","operationId":"verifyOtp","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OtpVerifyRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/auth/signup":{"post":{"tags":["Authentication"],"summary":"User signup","description":"Registers a new user and sends OTP to their email.","operationId":"signup","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SignupResponse"}}}}}}},"/api/auth/signin":{"post":{"tags":["Authentication"],"summary":"User signin","description":"Authenticates user with email and password and returns a JWT.","operationId":"signin","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SigninRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SigninResponse"}}}}}}},"/api/auth/reset-password":{"post":{"tags":["Authentication"],"summary":"Reset password","description":"Resets user's password after OTP validation using a short-lived JWT.","operationId":"resetPassword","parameters":[{"name":"Authorization","in":"header","description":"Short-lived JWT returned after OTP verification","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/auth/request-otp":{"post":{"tags":["Authentication"],"summary":"Request OTP","description":"Sends OTP for email verification or password reset.","operationId":"requestOtp","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OtpRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/admin/courses":{"post":{"tags":["Admin Course Management"],"summary":"Add a new course","description":"Allows admin to add a single new course.","operationId":"addCourse","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Course"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Course"}}}}}}},"/admin/courses/bulk":{"post":{"tags":["Admin Course Management"],"summary":"Add multiple courses","description":"Allows admin to add a list of courses in bulk.","operationId":"addCourses","requestBody":{"content":{"application/json":{"schema":{"type":"array","description":"List of courses to be added","items":{"$ref":"#/components/schemas/Course"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Course"}}}}}}}},"/saved-courses/exists":{"get":{"tags":["Saved Courses"],"summary":"Check if course is saved","description":"Returns true if the course is saved by the user.","operationId":"isCourseSaved","parameters":[{"name":"courseId","in":"query","description":"Course ID to check","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/saved-courses/count":{"get":{"tags":["Saved Courses"],"summary":"Count saved courses","description":"Returns the total number of saved courses for the user.","operationId":"countSavedCourses","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int64"}}}}}}},"/profile/status":{"get":{"tags":["Student Profile"],"summary":"Check profile status","description":"Returns true if the user has completed their profile.","operationId":"checkProfileCompleted","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/feedback/all":{"get":{"tags":["Course Feedback"],"summary":"Get all feedbacks by current user","description":"Returns all feedback entries submitted by the authenticated user","operationId":"allFeedbackByUserId","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CourseFeedback"}}}}}}}},"/feedback/all/{courseId}":{"get":{"tags":["Course Feedback"],"summary":"Get all feedbacks for a course","description":"Returns all feedback entries submitted for the given course ID","operationId":"allFeedbackByCourseId","parameters":[{"name":"courseId","in":"path","description":"Course ID to fetch feedback for","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CourseFeedback"}}}}}}}},"/dashboard":{"get":{"tags":["Student Dashboard"],"summary":"Get user dashboard","description":"Returns dashboard info like profile, saved courses, and recommended courses for the current user","operationId":"getDashboard","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DashboardResponse"}}}}}}},"/courses":{"get":{"tags":["Courses"],"summary":"Get all courses","description":"Returns paginated list of all available courses","operationId":"getAllCourses","parameters":[{"name":"page","in":"query","description":"Page number (default = 0)","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","description":"Number of courses per page (default = 10)","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Course"}}}}}}}},"/courses/{courseId}":{"get":{"tags":["Courses"],"summary":"Get course by ID","description":"Returns details of a specific course by its ID","operationId":"getCourse","parameters":[{"name":"courseId","in":"path","description":"Unique ID of the course","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/courses/search":{"get":{"tags":["Courses"],"summary":"Search courses","description":"Searches for courses by a keyword or phrase","operationId":"searchCourses","parameters":[{"name":"q","in":"query","description":"Search query (e.g. Java, Spring)","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Course"}}}}}}}},"/admin/users":{"get":{"tags":["Admin User Management"],"summary":"Get all users","description":"Returns a list of all registered users in the system","operationId":"users","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Users"}}}}}}},"delete":{"tags":["Admin User Management"],"summary":"Delete user by username","description":"Deletes a user by their username","operationId":"deleteUser","parameters":[{"name":"username","in":"query","description":"Username of the user to delete","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/admin/dashboard":{"get":{"tags":["Admin Dashboard"],"summary":"Get admin dashboard data","description":"Fetches platform-level stats like user count, course count, and feedback for the logged-in admin.","operationId":"getDashboard_1","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AdminDashboardResponse"}}}}}}},"/saved-courses/{courseId}":{"delete":{"tags":["Saved Courses"],"summary":"Remove a saved course","description":"Removes a course from the user's saved list.","operationId":"removeSavedCourse","parameters":[{"name":"courseId","in":"path","description":"ID of the course to remove","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"StudentProfileRequest":{"required":["educationLevel","fullName","preferredDifficultyLevel","preferredPlatform","primaryInterests"],"type":"object","properties":{"fullName":{"type":"string"},"phoneNumber":{"type":"string"},"educationLevel":{"type":"string"},"preferredPlatform":{"type":"string"},"primaryInterests":{"type":"array","items":{"type":"string"}},"learningGoals":{"type":"string"},"preferredDifficultyLevel":{"type":"string"},"hobbies":{"type":"array","items":{"type":"string"}}}},"Course":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}},"platform":{"type":"string"},"tutor":{"type":"string"},"difficultyLevel":{"type":"string"},"duration":{"type":"string"},"rating":{"type":"number","format":"double"},"language":{"type":"string"},"url":{"type":"string"},"imageUrl":{"type":"string"},"lastUpdated":{"type":"string","format":"date-time"},"shareCount":{"type":"integer","format":"int64"},"saveCount":{"type":"integer","format":"int64"}},"description":"Course object to be added"},"SavedCourse":{"type":"object","properties":{"id":{"type":"string"},"courseId":{"type":"string"},"userId":{"type":"string"},"savedAt":{"type":"string","format":"date-time"}}},"CourseFeedbackRequest":{"type":"object","properties":{"courseId":{"type":"string"},"rating":{"maximum":5,"minimum":1,"type":"integer","format":"int32"},"enrolled":{"type":"boolean"},"comments":{"type":"string"}}},"FeedbackSubmissionRequest":{"type":"object","properties":{"courseFeedbacks":{"type":"array","items":{"$ref":"#/components/schemas/CourseFeedbackRequest"}}},"description":"Feedback submission payload"},"FilterCourseRequest":{"type":"object","properties":{"tags":{"type":"array","items":{"type":"string"}},"platforms":{"type":"array","items":{"type":"string"}},"difficulty":{"type":"string","enum":["BEGINNER","INTERMEDIATE","ADVANCED"]},"duration":{"type":"string"}},"description":"Filtering preferences like domain, difficulty, etc."},"OtpVerifyRequest":{"required":["email","otp","purpose"],"type":"object","properties":{"email":{"type":"string"},"otp":{"type":"string"},"purpose":{"type":"string","enum":["VERIFICATION","PASSWORD_RESET"]}},"description":"OTP verification request body"},"SignupRequest":{"required":["email","password","username"],"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"},"password":{"pattern":"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$","type":"string"}},"description":"Signup request body with email and password"},"SignupResponse":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"},"message":{"type":"string"},"authProvider":{"type":"string","enum":["LOCAL","GOOGLE","GITHUB"]}}},"SigninRequest":{"required":["loginId","password"],"type":"object","properties":{"loginId":{"type":"string"},"password":{"type":"string"}},"description":"Signin request with email and password"},"SigninResponse":{"type":"object","properties":{"id":{"type":"string"},"loginId":{"type":"string"},"role":{"type":"string"},"token":{"type":"string"},"expiresAt":{"type":"string","format":"date-time"},"authProvider":{"type":"string","enum":["LOCAL","GOOGLE","GITHUB"]}}},"ResetPasswordRequest":{"required":["email","newPassword"],"type":"object","properties":{"email":{"type":"string"},"newPassword":{"type":"string"}},"description":"New password and confirmation"},"OtpRequest":{"required":["email","purpose"],"type":"object","properties":{"email":{"type":"string"},"purpose":{"type":"string","enum":["VERIFICATION","PASSWORD_RESET"]}},"description":"OTP request with email and purpose"},"CourseFeedback":{"type":"object","properties":{"id":{"type":"string"},"userId":{"type":"string"},"courseId":{"type":"string"},"rating":{"maximum":5,"minimum":1,"type":"integer","format":"int32"},"enrolled":{"type":"boolean"},"comments":{"type":"string"},"submittedAt":{"type":"string","format":"date-time"},"anonymous":{"type":"boolean"}}},"DashboardResponse":{"type":"object","properties":{"profile":{"$ref":"#/components/schemas/StudentProfile"},"savedCourses":{"type":"array","items":{"$ref":"#/components/schemas/Course"}},"recommendedCourses":{"type":"array","items":{"$ref":"#/components/schemas/Course"}}}},"StudentProfile":{"type":"object","properties":{"id":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"fullName":{"type":"string"},"phoneNumber":{"type":"string"},"educationLevel":{"type":"string"},"preferredPlatform":{"type":"string"},"preferredDifficultyLevel":{"type":"string"},"primaryInterests":{"type":"array","items":{"type":"string"}},"hobbies":{"type":"array","items":{"type":"string"}},"learningGoals":{"type":"string"},"profileCompleted":{"type":"boolean"}}},"Users":{"type":"object","properties":{"id":{"type":"string"},"username":{"type":"string"},"password":{"type":"string"},"email":{"type":"string"},"role":{"type":"string"},"verified":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"authProvider":{"type":"string","enum":["LOCAL","GOOGLE","GITHUB"]}}},"AdminDashboardResponse":{"type":"object","properties":{"adminName":{"type":"string"},"adminEmail":{"type":"string"},"role":{"type":"string"},"totalCourses":{"type":"integer","format":"int64"},"recentCourses":{"type":"array","items":{"$ref":"#/components/schemas/Course"}},"totalUsers":{"type":"integer","format":"int64"},"recentUsers":{"type":"array","items":{"$ref":"#/components/schemas/Users"}},"feedbackCount":{"type":"integer","format":"int64"},"recentFeedback":{"type":"array","items":{"$ref":"#/components/schemas/CourseFeedback"}},"platformDistribution":{"type":"object","additionalProperties":{"type":"integer","format":"int64"}},"interestAreaPopularity":{"type":"object","additionalProperties":{"type":"integer","format":"int64"}}}}}}}